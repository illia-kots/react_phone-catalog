(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(22).concat([function(e){e.exports=JSON.parse('[{"title":"Mobile phones","image":"img/categories/phones.png","type":"phones","itemType":"phone","url":"/phones"},{"title":"Tablets","image":"img/categories/tablets.png","type":"tablets","itemType":"tablet","url":"/tablets"},{"title":"Accessories","image":"img/categories/accessories.png","type":"accessories","itemType":"accessory","url":"/accessories"}]')},,,,,function(e){e.exports=JSON.parse('[{"title":"phones","image":"img/banners/banner-phones.png"},{"title":"tablets","image":"img/banners/banner-tablets.png"},{"title":"accessories","image":"img/banners/banner-accessories.png"}]')},,,,,,,,,,,,,,,,,,,function(e){e.exports=JSON.parse('[{"title":"Home","link":"/"},{"title":"Phones","link":"/phones"},{"title":"Tablets","link":"/tablets"},{"title":"Accessories","link":"/accessories"}]')},,,,,,,,,,,function(e,t,c){},,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n,a=c(19),i=c.n(a),r=c(31),s=c(5),o=c(4),l=c(0),u=c(3),d=c(7),j=c.n(d),b=(c(57),c(1)),_=function(e){var t=e.to,c=e.text,n=e.type;return Object(b.jsx)(s.c,{to:t,className:function(e){var t=e.isActive;return j()("navbar__item",{"navbar__item--active":t,"navbar__item-menu":"menu"===n})},children:c})},O=c(46),m=(c(60),function(e){var t="menu"===e.type?"menu":"header";return Object(b.jsx)("div",{className:j()({navbar:"header"===t,menu__list:"menu"===t}),children:O.map((function(e){return Object(b.jsx)(_,{to:e.link,text:e.title,type:t},e.title)}))})}),p=function(){window.scrollTo({top:0,behavior:"smooth"})},f=(c(61),function(){return Object(b.jsx)(s.b,{to:"/",onClick:p,children:Object(b.jsx)("img",{src:"./img/icons/LOGO.svg",alt:"logo",className:"logo"})})}),h=(c(62),function(e){var t=e.type,c=e.addClassName;return Object(b.jsx)("span",{className:j()("icon",t,c)})});!function(e){e.ARROW_UP="icon__arrow-up",e.ARROW_UP_DISABLED="icon__arrow-up--disabled",e.ARROW_DOWN="icon__arrow-down",e.ARROW_DOWN_DISABLED="icon__arrow-down--disabled",e.ARROW_LEFT="icon__arrow-left",e.ARROW_LEFT_DISABLED="icon__arrow-left--disabled",e.ARROW_RIGHT="icon__arrow-right",e.ARROW_RIGHT_DISABLED="icon__arrow-right--disabled",e.FAVORITE="icon__favorite",e.FAVORITE_SELECTED="icon__favorite--selected",e.HOME="icon__home",e.CART="icon__cart",e.CROSS="icon__cross",e.CROSS_DISABLED="icon__cross--disabled",e.MENU="icon__menu",e.MINUS="icon__minus",e.MINUS_DISABLED="icon__minus--disabled",e.PLUS="icon__plus",e.SEARCH="icon__search"}(n||(n={}));var g=function(){return Object(r.b)()},x=r.c;function v(e,t){var c=Object(l.useState)((function(){if("undefined"===typeof window)return t;try{var c=window.localStorage.getItem(e);return c?JSON.parse(c):t}catch(n){return t}})),n=Object(u.a)(c,2),a=n[0],i=n[1];return[function(t){var c=t instanceof Function?t(a):t;i(c),"undefined"!==typeof window&&window.localStorage.setItem(e,JSON.stringify(c))}]}function N(){var e=Object(l.useState)({width:window.innerWidth,height:window.innerHeight}),t=Object(u.a)(e,2),c=t[0],n=t[1];return Object(l.useEffect)((function(){function e(){n({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),c}c(63);var y=function(e){var t=e.type,c=x((function(e){return e.favoriteAndCartProducts})),a=c.favorites,i=c.cart,r="favorites"===t,o="cart"===t,l=r?a:i;return Object(b.jsx)("div",{className:j()("top-actions__item",{"top-actions__item--favorite":r,"top-actions__item--cart":o}),children:Object(b.jsxs)(s.c,{to:t,className:function(e){var t=e.isActive;return j()("top-actions__link",{"top-actions__link--active":t})},children:[Object(b.jsx)(h,{type:r?n.FAVORITE:n.CART}),!!l.length&&Object(b.jsx)("span",{className:"top-actions__item-count",children:l.length})]})})};function S(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(u.a)(e,2),n=t[0],a=t[1];null===a?c.delete(n):Array.isArray(a)?(c.delete(n),a.forEach((function(e){c.append(n,e)}))):c.set(n,a)})),c.toString()}var R=599,E=1175,k="https://mate-academy.github.io/react_phone-catalog/_new",A=(c(64),function(e){var t=e.isMenuOpened,c=e.handleOpenMenu,a=N().width,i=Object(l.useRef)(null),r=Object(o.n)().pathname.slice(1),d=Object(l.useState)(!1),_=Object(u.a)(d,2),O=_[0],m=_[1],p=Object(l.useState)(!1),f=Object(u.a)(p,2),g=f[0],x=f[1],v=Object(s.d)(),y=Object(u.a)(v,2),E=y[0],k=y[1],A=E.get("query")||"",C=O?"":"Search in ".concat(r,"..."),I=Object(l.useCallback)((function(){t&&c(),i.current&&i.current.focus(),x((function(e){return!e}))}),[t]),T=function(){x(!1)};return Object(l.useEffect)((function(){m(a<R)}),[a]),Object(l.useEffect)((function(){t&&x(!1)}),[t]),Object(b.jsxs)(b.Fragment,{children:[O&&Object(b.jsx)("button",{className:"search__icon",type:"button",onClick:I,children:Object(b.jsx)(h,{type:n.SEARCH})}),Object(b.jsxs)("div",{className:j()("search",{search__mobile:O,"search__mobile--active":g}),children:[Object(b.jsx)("input",{className:"search__input",value:A,type:"text",onBlur:T,ref:i,placeholder:C,onChange:function(e){k(S(E,{query:e.target.value||null}))}}),A?Object(b.jsx)("button",{className:"search__button","data-cy":"searchDelete",type:"button",onClick:function(){O&&x(!0),k(S(E,{query:""}))},children:Object(b.jsx)(h,{type:n.CROSS})}):Object(b.jsx)("span",{role:"button",tabIndex:0,onClick:T,onKeyDown:T,children:Object(b.jsx)(h,{type:n.SEARCH})})]})]})}),C=function(e){var t=e.isOpened,c=e.onClick;return Object(b.jsx)("button",{className:" top-actions__link top-actions__link--button",type:"button",onClick:c,children:Object(b.jsx)("span",{className:j()("icon",{icon__menu:!t,icon__cross:t})})})},I=c(22),T=(c(65),function(){var e=Object(o.r)().productId,t=void 0===e?"":e,c=Object(o.n)(),n=c.pathname.includes("favorites"),a=c.pathname.includes("cart"),i=I.map((function(e){return e.type})).find((function(e){return c.pathname.includes(e)&&!t})),r=Object(l.useState)(!1),s=Object(u.a)(r,2),d=s[0],_=s[1],O=Object(l.useCallback)((function(){_((function(e){return!e}))}),[]);return Object(l.useEffect)((function(){_(!1)}),[c]),Object(b.jsxs)("header",{className:" page__header header",children:[Object(b.jsxs)("div",{className:"header__container",children:[!a&&Object(b.jsx)("div",{className:" header__menu top-actions__menu",children:Object(b.jsx)(C,{isOpened:d,onClick:O})}),Object(b.jsx)("div",{className:j()("header__logo",{"header__logo--cart":a}),children:Object(b.jsx)(f,{})}),!a&&Object(b.jsx)("nav",{className:"header__nav",children:Object(b.jsx)(m,{type:"header"})}),Object(b.jsxs)("div",{className:" header__actions top-actions",children:[i&&Object(b.jsx)(A,{isMenuOpened:d,handleOpenMenu:O}),n&&Object(b.jsx)(A,{isMenuOpened:d,handleOpenMenu:O}),!a&&Object(b.jsx)(y,{type:"favorites"}),Object(b.jsx)(y,{type:"cart"})]})]}),!a&&Object(b.jsx)("div",{className:"header__menu-list-container",children:Object(b.jsx)("nav",{className:j()("header__menu-list","menu",{page__menu:!d,"page__menu--opened":d}),children:Object(b.jsx)(m,{type:"menu"})})})]})}),P=(c(66),function(){var e=Object(o.n)();return Object(b.jsxs)(s.b,{to:e.pathname,className:"top-button",onClick:p,children:[Object(b.jsx)("p",{className:"top-button__text",children:"Back to top"}),Object(b.jsx)(h,{type:n.ARROW_UP,addClassName:"top-button__icon"})]})}),w=(c(67),function(){return Object(b.jsxs)("div",{className:"footer__info",children:[Object(b.jsx)(s.b,{to:"https://github.com/illia-kots",target:"_blank",className:"footer__link",children:Object(b.jsx)("p",{children:"github"})}),Object(b.jsx)(s.b,{to:"https://github.com/illia-kots",target:"_blank",className:"footer__link",children:Object(b.jsx)("p",{children:"contacts"})}),Object(b.jsx)(s.b,{to:"https://github.com/illia-kots",target:"_blank",className:"footer__link",children:Object(b.jsx)("p",{children:"rights"})})]})}),D=(c(68),function(){var e=Object(o.n)().pathname.includes("cart");return Object(b.jsx)("footer",{className:"footer",children:Object(b.jsxs)("div",{className:"footer__container",children:[Object(b.jsx)(f,{}),Object(b.jsx)(w,{}),!e&&Object(b.jsx)(P,{})]})})}),L=c(8),M=c(17);function B(e){return new Promise((function(t){setTimeout(t,e)}))}function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n={method:t};return c&&(n.body=JSON.stringify(c),n.headers={"Content-Type":"application/json; charset=UTF-8"}),B(300).then((function(){return fetch(k+e,n)})).then((function(e){return e.json()}))}var F,G=function(e){return W(e)},U=function(e){return G("/products/".concat(e,".json"))};!function(e){e.PAGE_NOT_FOUND="Sorry, we can't find the page...",e.GET_PRODUCTS="Unable to get the products",e.GET_PRODUCT_DETAILS="Unable to get the product's details"}(F||(F={}));var H,Y=Object(M.b)("products/fetch",(function(){return G("/products.json")})),J=Object(M.c)({name:"products",initialState:{items:[],loaded:!1,isError:null},reducers:{setProducts:function(e,t){return Object(L.a)(Object(L.a)({},e),{},{items:t.payload})}},extraReducers:function(e){e.addCase(Y.pending,(function(e){return Object(L.a)(Object(L.a)({},e),{},{loaded:!1,isError:null})})),e.addCase(Y.fulfilled,(function(e,t){return Object(L.a)(Object(L.a)({},e),{},{items:t.payload,loaded:!0,isError:null})})),e.addCase(Y.rejected,(function(e){return Object(L.a)(Object(L.a)({},e),{},{isError:F.GET_PRODUCTS,loaded:!0})}))}}),z=J.reducer,X=(J.actions.setProducts,c(71),function(){var e=g();return Object(l.useEffect)((function(){e(Y())}),[]),Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)("div",{className:"page__body",children:[Object(b.jsx)(T,{}),Object(b.jsx)("main",{children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:" grid grid--desktop",children:Object(b.jsx)(o.b,{})})})}),Object(b.jsx)(D,{})]})})}),V=Object(M.b)("productDetails/fetch",(function(e){return U(e)})),$=Object(M.c)({name:"selectedProduct",initialState:{product:null,loaded:!1,isError:null},reducers:{setSelectedProduct:function(e,t){return Object(L.a)(Object(L.a)({},e),{},{product:t.payload})}},extraReducers:function(e){e.addCase(V.pending,(function(e){return Object(L.a)(Object(L.a)({},e),{},{loaded:!1})})),e.addCase(V.fulfilled,(function(e,t){return Object(L.a)(Object(L.a)({},e),{},{product:t.payload,loaded:!0,isError:null})})),e.addCase(V.rejected,(function(e){return Object(L.a)(Object(L.a)({},e),{},{isError:F.GET_PRODUCT_DETAILS,loaded:!0})}))}}),q=$.reducer,K=($.actions.setSelectedProduct,c(9)),Q={favorites:JSON.parse(localStorage.getItem("favorites")||"[]"),cart:JSON.parse(localStorage.getItem("cart")||"[]")},Z=Object(M.c)({name:"favoriteAndCart",initialState:Q,reducers:{addToFavorites:function(e,t){var c=[].concat(Object(K.a)(e.favorites),[t.payload]);return Object(L.a)(Object(L.a)({},e),{},{favorites:c})},removeFromFavorites:function(e,t){var c=e.favorites.filter((function(e){return e.id!==t.payload}));return Object(L.a)(Object(L.a)({},e),{},{favorites:c})},addToCart:function(e,t){var c=[].concat(Object(K.a)(e.cart),[t.payload]);return Object(L.a)(Object(L.a)({},e),{},{cart:c})},removeFromCart:function(e,t){var c=JSON.parse(localStorage.getItem("cart")||"[]"),n=c.findLastIndex((function(e){return e.id===t.payload.id}));return c.splice(n,1),Object(L.a)(Object(L.a)({},e),{},{cart:c})},deleteFromCart:function(e,t){var c=e.cart.filter((function(e){return e.id!==t.payload}));return Object(L.a)(Object(L.a)({},e),{},{cart:c})}}}),ee=Z.actions,te=ee.addToFavorites,ce=ee.removeFromFavorites,ne=ee.addToCart,ae=ee.removeFromCart,ie=ee.deleteFromCart,re=Z.reducer,se=Object(M.a)({reducer:{products:z,selectedProduct:q,favoriteAndCartProducts:re}}),oe=c(27),le=(c(72),function(){var e=Object(l.useState)(0),t=Object(u.a)(e,2),c=t[0],a=t[1],i=Object(l.useState)(null),r=Object(u.a)(i,2),s=r[0],o=r[1],d=function(){a((function(e){return e===oe.length-1?0:e+1}))},_=function(){a((function(e){return 0===e?oe.length-1:e-1}))};return Object(l.useEffect)((function(){var e=setInterval((function(){d()}),5e3);return function(){clearInterval(e)}}),[c]),Object(b.jsxs)("section",{className:" page__section banner grid__item--tablet-1-12 grid__item--desktop-1-24",children:[Object(b.jsxs)("div",{className:"banner__container",children:[Object(b.jsx)("button",{type:"button",className:" banner__button grid__item--tablet-1-1 grid__item--desktop-1-1",onClick:_,disabled:c>=oe.length,children:Object(b.jsx)(h,{type:n.ARROW_LEFT})}),Object(b.jsx)("div",{className:" banner__content grid__item--tablet-2-11 grid__item--desktop-2-10",onTouchStart:function(e){return function(e){var t=e.touches[0].clientX||null;o(t)}(e)},onTouchMove:function(e){return function(e){if(null!==s){var t=s-e.touches[0].clientX;t>5&&d(),t<-5&&_(),o(null)}}(e)},children:oe.map((function(e,t){return Object(b.jsx)("img",{alt:"Banner-".concat(e.title),className:j()("banner__image",{"banner__image--active":c===t}),src:e.image},"banner-image-".concat(e.title))}))}),Object(b.jsx)("button",{type:"button",className:" banner__button grid__item--tablet-12-12 grid__item--desktop-24-24",onClick:d,children:Object(b.jsx)(h,{type:n.ARROW_RIGHT})})]}),Object(b.jsx)("div",{className:"banner__move",children:oe.map((function(e,t){return Object(b.jsx)("button",{type:"button","aria-label":"PickImage",className:j()("banner__move__item",{"banner__move__item--active":c===t}),onClick:function(){return a(t)}},"banner-button-".concat(e.title))}))})]})}),ue=(c(73),function(){return Object(b.jsx)("div",{className:" Loader grid__item--tablet-6-7 grid__item--desktop-12-13","data-cy":"Loader",children:Object(b.jsx)("div",{className:"Loader__content"})})}),de=(c(74),function(e){var t=e.typeButton,c=e.size,a=e.product,i=g(),r=x((function(e){return e.favoriteAndCartProducts})),s=r.favorites,o=r.cart,d=v("favorites",s),_=Object(u.a)(d,1)[0],O=v("cart",o),m=Object(u.a)(O,1)[0],p="cart"===t?null===o||void 0===o?void 0:o.some((function(e){return e.id===(null===a||void 0===a?void 0:a.id)})):null===s||void 0===s?void 0:s.some((function(e){return e.id===(null===a||void 0===a?void 0:a.id)})),f=Object(l.useState)(p),N=Object(u.a)(f,2),y=N[0],S=N[1],R=Object(l.useMemo)((function(){return"favorites"===t&&y}),[t,y]),E=Object(l.useMemo)((function(){return"cart"===t&&y}),[t,y]),k=R?"icon__favorite--active":"",A=E?"Added to cart":"Add to cart",C=function(e){"favorites"===e?function(){if(a)if(p){var e=s.filter((function(e){return e.id!==a.id}));i(ce(a.id)),_(e)}else{var t=[].concat(Object(K.a)(s),[a]);i(te(a)),_(t)}}():function(){if(a)if(p){var e=o.filter((function(e){return e.id!==a.id}));i(ae(a)),m(e)}else{var t=[].concat(Object(K.a)(o),[a]);i(ne(a)),m(t)}}(),S(!y)};return Object(b.jsxs)("button",{className:j()("card-button__add-".concat(t),"card-button__add-".concat(t,"--").concat(c),{"card-button__add-favorite--selected":R,"card-button__add-cart--selected":E}),type:"button","data-cy":"addToFavorite",onClick:function(){return C(t)},children:["cart"===t&&A,"favorites"===t&&Object(b.jsx)(h,{type:n.FAVORITE,addClassName:k})]})}),je=(c(75),function(e){var t=e.product,c=t.name,n=t.category,a=t.itemId,i=t.image,r=t.price,o=t.fullPrice,l=t.screen,u=t.capacity,d=t.ram,j=g();return Object(b.jsxs)("div",{className:"product-card","data-cy":"cardsContainer",children:[Object(b.jsx)(s.b,{to:"../".concat(n,"/").concat(a),className:"product-card__link",onClick:function(){j(V(a)),p()}}),Object(b.jsx)("div",{className:"product-card__image",children:Object(b.jsx)("img",{className:"product-card__picture",src:i,alt:c})}),Object(b.jsx)("h3",{className:"product-card__title",children:c}),Object(b.jsxs)("div",{className:"product-card__price",children:[Object(b.jsx)("span",{className:"product-card__discountPrice",children:"$".concat(r||o)}),r<o&&Object(b.jsx)("span",{className:"product-card__fullPrice",children:"$".concat(o)})]}),Object(b.jsxs)("div",{className:"product-card__features",children:[Object(b.jsxs)("span",{className:"product-card__feature-item",children:["Screen",Object(b.jsx)("div",{className:"product-card__feature-info",children:l})]}),Object(b.jsxs)("span",{className:"product-card__feature-item",children:["Capacity",Object(b.jsx)("div",{className:"product-card__feature-info",children:u})]}),Object(b.jsxs)("span",{className:"product-card__feature-item",children:["RAM",Object(b.jsx)("div",{className:"product-card__feature-info",children:d})]})]}),Object(b.jsx)("div",{className:"product-card__buttons",children:Object(b.jsxs)("div",{className:"card-button",children:[Object(b.jsx)(de,{typeButton:"cart",size:"small",product:t}),Object(b.jsx)(de,{typeButton:"favorites",size:"small",product:t})]})})]})}),be=(c(76),function(e){var t=e.error;return Object(b.jsx)("h1",{className:" notification grid__item--tablet-1-12 grid__item--desktop-1-24",children:"...".concat(t,"...")})});!function(e){e.HOTPRICES="hot-prices",e.BRANDNEW="brand-new",e.SUGGESTIONS="You may also like"}(H||(H={}));c(77);var _e,Oe=function(e){var t=e.type,c=Object(o.r)().productId,a=void 0===c?"":c,i=N().width,r=x((function(e){return e.products})),s=r.items,d=r.isError,j=Object(o.n)(),_=j.pathname.split("/").slice(1)[0],O=Object(l.useState)(0),m=Object(u.a)(O,2),p=m[0],f=m[1],g=Object(l.useState)(4),v=Object(u.a)(g,2),y=v[0],S=v[1],k=Object(l.useState)(null),A=Object(u.a)(k,2),C=A[0],T=A[1],P=Object(l.useMemo)((function(){if(!_.length)return"home";var e=I.find((function(e){return e.type===_}));return e?e.type:"phone"}),[j]),w=Object(l.useMemo)((function(){switch(t){case H.HOTPRICES:return"Hot prices";case H.BRANDNEW:return"Brand new";case H.SUGGESTIONS:return"You may also like";default:return""}}),[t]),D=Object(l.useMemo)((function(){switch(t){case H.HOTPRICES:return s.filter((function(e){return 100-e.price/(e.fullPrice/100)>=7})).sort((function(e,t){return e.price-t.price}));case H.BRANDNEW:return function(e){return e.filter((function(e){var t=e.fullPrice;return Math.max(t)>=1500})).sort((function(e,t){return t.fullPrice-e.fullPrice}))}(s);default:case H.SUGGESTIONS:return function(e,t,c){return e.filter((function(e){return e.category===t&&c!==e.itemId})).sort((function(){return Math.random()-.5}))}(s,P,a)}}),[t,a,s]),L={cardWidth:i>887?288:296,cardsOnPage:y,animationDuration:500},M=L.cardWidth,B=L.cardsOnPage,W=L.animationDuration,F=-(D.length*M-M*B),G=p*M>=F?p*M:F,U=p+B>=D.length,Y=p<=0,J=function(){p===D.length-B?f(0):f(Math.min(p+1,D.length-B))},z=function(){f(0===p?D.length-B:Math.max(p-1,0))};return Object(l.useEffect)((function(){i>E&&(D.length<4?S(D.length):S(4)),i>887&&i<E&&(D.length<3?S(D.length):S(3)),i>R&&i<887&&(D.length<2?S(D.length):S(2)),i<R&&S(1)}),[i,D]),Object(b.jsxs)("section",{className:" page__section products-slider grid__item--tablet-1-12 grid__item--desktop-1-24",children:[Object(b.jsxs)("div",{className:"products-slider__header",children:[Object(b.jsx)("h1",{className:" page__section-title products-slider__title",children:w}),Object(b.jsxs)("div",{className:" products-slider__buttons-container grid__item--tablet-10-12 grid__item--desktop-21-24",children:[Object(b.jsx)("button",{className:" products-slider__button grid__item--tablet-10-11 grid__item--desktop-21-22",type:"button","aria-label":"Prev",onClick:z,disabled:Y,children:Object(b.jsx)(h,{type:Y?n.ARROW_LEFT_DISABLED:n.ARROW_LEFT})}),Object(b.jsx)("button",{className:" products-slider__button grid__item--tablet-11-12 grid__item--desktop-23-24",type:"button","aria-label":"Next",onClick:J,disabled:U,children:Object(b.jsx)(h,{type:U?n.ARROW_RIGHT_DISABLED:n.ARROW_RIGHT})})]})]}),d?Object(b.jsx)(be,{error:d}):Object(b.jsx)("div",{className:" products-slider__content grid__item--tablet-1-12 grid__item--desktop-1-24",style:{maxWidth:"".concat(B*M,"px")},onTouchStart:function(e){return function(e){var t=e.touches[0].clientX||null;T(t)}(e)},onTouchMove:function(e){return function(e){if(null!==C){var t=C-e.touches[0].clientX;t>5&&J(),t<-5&&!Y&&z(),T(null)}}(e)},children:Object(b.jsx)("div",{className:"products-slider__items",style:{transform:"translateX(-".concat(G,"px)"),transition:"".concat(W,"ms")},children:D.map((function(e){return Object(b.jsx)(je,{product:e},e.id)}))})})]})},me=c(94),pe=(c(78),function(){var e=x((function(e){return e.products})).items,t=Object(l.useMemo)((function(){return e.filter((function(e){return"phones"===e.category}))}),[e]),c=Object(l.useMemo)((function(){return e.filter((function(e){return"tablets"===e.category}))}),[e]),n=Object(l.useMemo)((function(){return e.filter((function(e){return"accessories"===e.category}))}),[e]),a=function(e){switch(e){case"phones":return t.length;case"tablets":return c.length;case"accessories":return n.length;default:return 0}};return Object(b.jsxs)("section",{className:" page__section shop-category grid__item--tablet-1-12 grid__item--desktop-1-24",children:[Object(b.jsx)("h1",{className:"page__section-title",children:"Shop by category"}),Object(b.jsx)("div",{className:" shop-category__content grid grid--desktop","data-cy":"categoryLinksContainer",children:I.map((function(e){return Object(b.jsx)(me.a.div,{className:j()("shop-category__container",{"grid__item--tablet-1-4":"phones"===e.type,"grid__item--desktop-1-8":"phones"===e.type,"grid__item--tablet-5-8":"tablets"===e.type,"grid__item--desktop-9-16":"tablets"===e.type,"grid__item--tablet-9-12":"accessories"===e.type,"grid__item--desktop-17-24":"accessories"===e.type}),whileHover:{translateX:10,translateY:-20,transition:{duration:.5}},transition:{duration:.5},children:Object(b.jsxs)(s.b,{to:e.url,className:"shop-category__link",children:[Object(b.jsx)("img",{className:j()("shop-category__image",{"shop-category__image--phones":"phones"===e.type,"shop-category__image--tablets":"tablets"===e.type,"shop-category__image--accessories":"accessories"===e.type}),src:e.image,alt:e.title}),Object(b.jsx)("h3",{className:"shop-category__name",children:e.title}),Object(b.jsx)("span",{className:"shop-category__products-total",children:"".concat(a(e.type)," models")})]},e.type)},e.type)}))})]})}),fe=function(){var e=x((function(e){return e.products})).loaded;return Object(l.useEffect)((function(){p()}),[]),Object(b.jsx)(b.Fragment,{children:e?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(le,{}),Object(b.jsx)(Oe,{type:H.HOTPRICES}),Object(b.jsx)(pe,{}),Object(b.jsx)(Oe,{type:H.BRANDNEW})]}):Object(b.jsx)(ue,{})})},he=(c(79),function(){var e,t=x((function(e){return e.selectedProduct})).product,c=Object(o.n)().pathname.split("/").slice(1)[0],a=Object(o.r)().productId,i=void 0===a?"":a,r=Object(l.useState)(!1),d=Object(u.a)(r,2),j=d[0],_=d[1],O=(e=c).charAt(0).toUpperCase()+e.slice(1),m=Object(l.useMemo)((function(){return!t&&i&&U(i),null===t||void 0===t?void 0:t.name}),[t,i]);return Object(l.useEffect)((function(){_(!!i)}),[]),Object(b.jsxs)("div",{className:" page-status grid__item--tablet-1-12 grid__item--desktop-1-24","data-cy":"breadCrumbs",children:[Object(b.jsx)(s.b,{to:"/",className:"page-status__home",children:Object(b.jsx)(h,{type:n.HOME})}),Object(b.jsx)(h,{type:n.ARROW_RIGHT_DISABLED}),j?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(s.b,{to:"/".concat(c),className:"page-status__link-title",children:O}),Object(b.jsx)(h,{type:n.ARROW_RIGHT_DISABLED}),Object(b.jsx)("span",{className:"page-status__title",children:m})]}):Object(b.jsx)("span",{className:"page-status__title",children:O})]})});!function(e){e.SORT__BY="sort by",e.ITEMS__ONPAGE="items on page"}(_e||(_e={}));c(80);var ge,xe=function(e){var t=e.type,c=Object(l.useState)("All"),a=Object(u.a)(c,2),i=a[0],r=a[1],d=Object(l.useState)(!1),_=Object(u.a)(d,2),O=_[0],m=_[1],p=Object(o.n)().pathname.slice(1),f=Object(s.d)(),g=Object(u.a)(f,1)[0],x=g.get("sort")||null,v=g.get("perPage")||null,N=t===_e.SORT__BY?"Sort by":"Items on page",y={Newest:"year",Alphabetically:"name",Cheapest:"fullPrice",All:null},R={4:"4",8:"8",16:"16",All:null},E=t===_e.SORT__BY?y:R,k=function(e,t){var c={sort:E[t],perPage:g.get("perPage"),page:g.get("page")},n={sort:g.get("sort"),perPage:E[t],page:"All"===t?null:"1"};return e===_e.SORT__BY?c:n},A=Object.keys(E);return Object(l.useEffect)((function(){!function(){if(x&&v||r("All"),t===_e.SORT__BY&&x){var e=Object.entries(y).find((function(e){return Object(u.a)(e,2)[1]===x}));e&&r(e[0])}if(t===_e.ITEMS__ONPAGE&&v){var c=Object.entries(R).find((function(e){return Object(u.a)(e,2)[1]===v}));c&&r(c[0])}}()}),[p]),Object(b.jsxs)("div",{className:j()("selector__sortBy","selector__items-onPage"),onMouseLeave:function(){return m(!1)},children:[Object(b.jsx)("div",{className:"selector__title",children:N}),Object(b.jsx)("div",{className:"selector__group",children:Object(b.jsxs)("div",{className:"filter",children:[Object(b.jsxs)("button",{className:"filter__button",type:"button",onClick:function(){m(!O)},children:[Object(b.jsx)("div",{className:"filter__selectedValue",children:i}),Object(b.jsx)("div",{className:"filter__arrow",children:O?Object(b.jsx)(h,{type:n.ARROW_UP_DISABLED}):Object(b.jsx)(h,{type:n.ARROW_DOWN})})]}),O&&Object(b.jsx)("ul",{className:"filter__container",children:A.map((function(e){return Object(b.jsx)(s.b,{to:{search:S(g,k(t,e))},className:"filter__value",onClick:function(){return function(e){r(e),m(!1)}(e)},children:e},e)}))})]})})]})},ve=(c(81),function(e){var t=e.total,c=Object(o.p)(),a=N().width,i=Object(s.d)(),r=Object(u.a)(i,1)[0],d=Number(r.get("page")||"1"),_=r.get("perPage")||"",O=Object(l.useState)(d),m=Object(u.a)(O,2),f=m[0],g=m[1],x=a<R?4:9,v=Math.ceil(f/x),y=Object(l.useState)(v),E=Object(u.a)(y,2),k=E[0],A=E[1],C=_?Math.ceil(t/+_):0,I=C>1?function(e,t){for(var c=[],n=e;n<=t;n+=1)c.push(n);return c}(1,C):[1],T=f===I.length,P=1===f,w=Object(l.useMemo)((function(){var e=(k-1)*x,t=Math.min(e+x,C),c=1===I.length?I:I.slice(e,t);return a>R&&t<C&&(c=[].concat(Object(K.a)(c),["...",I[I.length-1]])),c}),[f,k,x,C,a]),D=function e(t){if(d!==t){if("..."===t){var n=k*x+1;if(n<=C){A((function(e){return e+1})),e(n);var a=S(r,{page:"".concat(n)});c({search:a})}else A(Math.ceil(C/x)),e(C)}else{var i=S(r,{page:"".concat(t)});A(v+1),c({search:i})}p()}};return Object(l.useEffect)((function(){f!==d&&g(d)}),[d]),Object(l.useEffect)((function(){A(1)}),[_]),Object(l.useEffect)((function(){k!==v&&A(v)}),[k]),Object(b.jsxs)("ul",{className:"pagination",children:[Object(b.jsx)("button",{className:"pagination__button","data-cy":"paginationLeft",type:"button","aria-label":"PREV",onClick:function(){f&&!P&&(f===(k-1)*x+1&&A((function(e){return e-1})),D(f-1)),p()},disabled:P,children:Object(b.jsx)(h,{type:P?n.ARROW_LEFT_DISABLED:n.ARROW_LEFT})}),Object(b.jsx)("div",{className:"pagination__list",children:w.map((function(e){return Object(b.jsx)("button",{type:"button","aria-label":"NUMBERS",className:j()("pagination__pages",{"pagination__pages--active":e===f}),onClick:function(){return D(e)},children:e},e)}))}),Object(b.jsx)("button",{className:"pagination__button","data-cy":"paginationRight",type:"button","aria-label":"NEXT",onClick:function(){f&&!T&&(f===x*k&&A((function(e){return e+1})),D(f+1)),p()},disabled:T,children:Object(b.jsx)(h,{type:T?n.ARROW_RIGHT_DISABLED:n.ARROW_RIGHT})})]})}),Ne=(c(82),function(e){var t=e.title;return Object(b.jsx)("div",{className:"noResults",children:Object(b.jsx)("h1",{className:"noResults__title",children:"".concat(t," not found...")})})});!function(e){e.NAME="name",e.PRICE="fullPrice",e.YEAR="year"}(ge||(ge={}));c(83);var ye=function(){var e=x((function(e){return e.products})),t=e.items,c=e.loaded,n=x((function(e){return e.favoriteAndCartProducts})).favorites,a=N().width,i=Object(o.n)(),r=i.pathname.slice(1),d=Object(s.d)(),j=Object(u.a)(d,1)[0],_=j.get("query")||"",O=j.get("sort")||"",m=j.get("page")||"",p=j.get("perPage")||"",f=Object(l.useState)(null),h=Object(u.a)(f,2),g=h[0],v=h[1],y=Object(l.useState)([]),S=Object(u.a)(y,2),E=S[0],k=S[1],A=Object(l.useState)(1),C=Object(u.a)(A,2),T=C[0],P=C[1],w=function(e){var t="favorites"===r?Object(K.a)(n):Object(K.a)(e);if(_){var c=_.toLowerCase().trim();t=t.filter((function(e){return e.name.toLowerCase().includes(c)}))}if(t.length&&O)switch(O){case ge.PRICE:t.sort((function(e,t){return e[O]-t[O]}));break;case ge.YEAR:t.sort((function(e,t){return t[O]-e[O]}));break;default:t.sort((function(e,t){return e[O].localeCompare(t[O])}))}return t||null}(E),D="favorites"===r,L="favorites"===r?"Favorites":null===g||void 0===g?void 0:g.title,M="favorites"===r?n.length:E.length,B=0,W=w.length;if(m&&p){var F=(+m-1)*+p,G=F+ +p;B=Math.max(0,F),W=Math.min(w.length,G)}var U=w.slice(B,W),H=Object(l.useMemo)((function(){return"favorites"===r?"Favorite item":g?(e=g.itemType).charAt(0).toUpperCase()+e.slice(1):"Searching item";var e}),[g]),Y={itemWidth:288,itemsOnPage:T},J=Y.itemWidth,z=Y.itemsOnPage;return Object(l.useEffect)((function(){!function(){var e=I.filter((function(e){return e.type===r}))[0];v(e)}()}),[i]),Object(l.useEffect)((function(){!function(){if(g){var e=t.filter((function(e){return e.category===g.type}));k(e)}else k([])}()}),[g,t]),Object(l.useEffect)((function(){P(a>1193?4:a>R?2:1)}),[a]),Object(b.jsxs)("section",{className:" page__section products grid__item--tablet-1-12 grid__item--desktop-1-24",children:[!_&&Object(b.jsx)("h1",{className:" page__section-title products__title",children:L}),Object(b.jsx)("div",{className:"products__total",children:_?"".concat(U.length," result").concat(1===U.length?"":"s"):"".concat(M," model").concat(1===M?"":"s")}),!D&&!_&&!!U.length&&Object(b.jsxs)("div",{className:" products__selector selector",children:[Object(b.jsx)(xe,{type:_e.SORT__BY}),Object(b.jsx)(xe,{type:_e.ITEMS__ONPAGE})]}),Object(b.jsx)("div",{className:"products__items",children:!!U.length&&Object(b.jsx)("div",{className:"products__container","data-cy":"productList",style:{maxWidth:"".concat(z*J,"px")},children:U.map((function(e){return Object(b.jsx)(je,{product:e},e.id)}))})}),!U.length&&c&&Object(b.jsx)(Ne,{title:H}),!D&&!_&&!!U.length&&Object(b.jsx)("div",{className:"products__pagination","data-cy":"pagination",children:Object(b.jsx)(ve,{total:w.length})})]})},Se=function(){var e=g(),t=x((function(e){return e.products})),c=t.loaded,n=t.isError,a=Object(s.d)(),i=Object(u.a)(a,1)[0].get("query")||"",r=Object(o.n)().pathname.slice(1);return Object(l.useEffect)((function(){e(Y())}),[r]),Object(b.jsxs)(b.Fragment,{children:[!i&&Object(b.jsx)(he,{}),c?Object(b.jsx)(b.Fragment,{children:n?Object(b.jsx)(be,{error:n}):Object(b.jsx)(ye,{})}):Object(b.jsx)(ue,{})]})},Re=(c(84),function(e){var t=e.specList;return Object(b.jsx)("div",{className:"tech-specs__full-spec",children:Object(b.jsx)("ul",{className:"full-spec__list",children:t.map((function(e){var t=Object(u.a)(e,2),c=t[0],n=t[1];return Object(b.jsxs)("li",{className:"full-spec__item",children:[Object(b.jsx)("div",{className:"full-spec__item--name",children:c}),Object(b.jsx)("div",{className:"full-spec__item--value",children:Array.isArray(n)?n.join(", "):n})]},c)}))})})}),Ee={black:"#000",rosegold:"#b76e79",gold:"#ffd700",silver:"#c0c0c0",spacegray:"#717378",green:"#008000",yellow:"#ffff00",white:"#e2e6e9",purple:"#800080",red:"#ff0000",midnightgreen:"#004953",coral:"#ff7f50"},ke=(c(85),function(){var e,t=Object(o.r)().productId,c=void 0===t?"":t,a=N().width,i=x((function(e){return e.products})).items,r=x((function(e){return e.selectedProduct})).product,d=r,_=d.id,O=d.images,m=d.color,p=d.capacity,f=d.colorsAvailable,g=d.capacityAvailable,v=d.description,y=d.name,S=d.namespaceId,k=d.priceDiscount,A=d.priceRegular,C=O||[],I=C[0],T=Object(l.useState)({Screen:"",Resolution:"",Processor:"",RAM:"","Built in memory":"",Camera:"",Zoom:"",Cell:[""]}),P=Object(u.a)(T,2),w=P[0],D=P[1],L=Object(l.useState)(I),M=Object(u.a)(L,2),B=M[0],W=M[1],F=Object(l.useState)(m),G=Object(u.a)(F,2),U=G[0],H=G[1],Y=Object(l.useState)(p),J=Object(u.a)(Y,2),z=J[0],X=J[1],V=Object(l.useState)(0),$=Object(u.a)(V,2),q=$[0],K=$[1],Q=Object(l.useState)(2),Z=Object(u.a)(Q,2),ee=Z[0],te=Z[1],ce=Object(l.useState)(null),ne=Object(u.a)(ce,2),ae=ne[0],ie=ne[1],re=Object(o.n)().pathname.split("/").slice(1)[0],se=(null===(e=i.find((function(e){return e.phoneId===_})))||void 0===e?void 0:e.id)||"",oe=i.find((function(e){return e.phoneId===_}))||null,le=Object.entries(w).slice(0,4),ue=Object.entries(w),je={imageHeight:96,imagesOnPage:ee,animationDuration:500},be=je.imageHeight,_e=je.imagesOnPage,Oe=je.animationDuration,me=q>=C.length-_e,pe=q<=0,fe=-(C.length*be-be*_e),he=q*be>=fe?q*be:fe,ge=function(){pe||K(q-1)},xe=function(){me||K(q+1)},ve="/".concat(re,"/").concat(S,"-").concat(p.toLocaleLowerCase());return Object(l.useEffect)((function(){r&&D({Screen:r.screen,Resolution:r.resolution,Processor:r.processor,RAM:"".concat(r.ram.slice(0,-2)," GB"),"Built in memory":"".concat(r.capacity.slice(0,-2)," GB"),Camera:r.camera,Zoom:r.zoom,Cell:r.cell})}),[c]),Object(l.useEffect)((function(){!function(){var e=2;a>E?e=Math.min(C.length,4):a>R&&a<E&&(e=Math.min(C.length,3)),te(e)}()}),[a]),Object(l.useEffect)((function(){K(0)}),[]),Object(b.jsxs)("section",{className:" page__section product-details grid__item--tablet-1-12 grid__item--desktop-1-24",children:[Object(b.jsx)("h1",{className:" page__section-title product-details__title",children:y}),Object(b.jsx)("div",{className:" product-details__main-details main-details",children:Object(b.jsxs)("div",{className:" grid grid--desktop",children:[Object(b.jsx)("div",{className:" main-details__product-id grid__item--tablet-11-12 grid__item--desktop-23-24",children:"ID: ".concat(se)}),Object(b.jsxs)("div",{className:" main-details__product-images product-images grid__item--tablet-1-6 grid__item--desktop-1-12",children:[Object(b.jsxs)("div",{className:" product-images__slider images-slider",children:[Object(b.jsx)("button",{className:" images-slider__button images-slider__button--prev",type:"button","aria-label":"PREV",disabled:pe,onClick:ge,children:Object(b.jsx)(h,{type:pe?n.ARROW_UP_DISABLED:n.ARROW_UP,addClassName:"images-slider__button--icon"})}),Object(b.jsx)("div",{className:"small-images",style:{height:"".concat(be*_e,"px"),touchAction:"none"},onTouchStart:function(e){return function(e){var t=e.touches[0].clientY||null;ie(t)}(e)},onTouchMove:function(e){return function(e){if(null!==ae){var t=ae-e.touches[0].clientY;t>5&&xe(),t<-5&&ge(),ie(null)}}(e)},children:Object(b.jsx)("div",{className:" product-images__small-images images-slider__images small-images__container",style:{transform:"translateY(-".concat(he,"px)"),transitionDuration:"".concat(Oe,"ms")},children:C.map((function(e){return Object(b.jsx)("div",{role:"button",className:j()("small-images__image",{"small-images__image--active":B===e}),tabIndex:0,onClick:function(){return W(e)},onKeyDown:function(){return W(e)},children:Object(b.jsx)("img",{src:e,alt:"smallImage",className:"additional-image"})},e)}))})}),Object(b.jsx)("button",{className:" images-slider__button images-slider__button--next",type:"button","aria-label":"NEXT",disabled:me,onClick:xe,children:Object(b.jsx)(h,{type:me?n.ARROW_DOWN_DISABLED:n.ARROW_DOWN,addClassName:"images-slider__button--icon"})})]}),Object(b.jsx)("div",{className:"product-images__main-image",children:Object(b.jsx)("img",{src:B,alt:"mainImage",className:"main-image"})})]}),Object(b.jsxs)("div",{className:" main-info__specifications specifications grid__item--tablet-7-10 grid__item--desktop-14-20",children:[Object(b.jsxs)("div",{className:" specifications__colors colors grid__item--tablet-7-11 grid__item--desktop-14-22",children:[Object(b.jsx)("h3",{className:"specifications__name",children:"Available colors"}),Object(b.jsx)("ul",{className:"colors__list",children:null===f||void 0===f?void 0:f.map((function(e){return Object(b.jsx)("li",{className:j()("colors__item-circle",{"colors__item-circle--active":U===e}),children:Object(b.jsx)(s.b,{to:"".concat(ve,"-").concat(e),style:{backgroundColor:Ee[e]},className:"colors__item",onClick:function(){return H(e)}})},e)}))})]}),Object(b.jsxs)("div",{className:" specifications__capacity capacity",children:[Object(b.jsx)("h3",{className:"specifications__name",children:"Select capacity"}),Object(b.jsx)("ul",{className:"capacity__list",children:null===g||void 0===g?void 0:g.map((function(e){return Object(b.jsx)("li",{className:j()("capacity__item",{"capacity__item--active":z===e}),children:Object(b.jsx)(s.b,{to:(t=e,"/".concat(re,"/").concat(S,"-").concat(t.toLocaleLowerCase(),"-").concat(m)),className:j()("capacity__link",{"capacity__link--active":z===e}),onClick:function(){return X(e)},children:"".concat(e.slice(0,-2)," GB")})},e);var t}))})]}),Object(b.jsxs)("div",{className:" specifications__price price",children:[Object(b.jsx)("span",{className:"price__discountPrice",children:"$".concat(k||A)}),k<A&&Object(b.jsx)("span",{className:"price__priceRegular",children:"$".concat(A)})]}),Object(b.jsxs)("div",{className:" specifications__buttons card-button",children:[Object(b.jsx)(de,{typeButton:"cart",size:"big",product:oe}),Object(b.jsx)(de,{typeButton:"favorites",size:"big",product:oe})]}),Object(b.jsx)("div",{className:"specifications__short-spec",children:Object(b.jsx)("ul",{className:"short-spec__list",children:le.map((function(e){return Object(b.jsxs)("li",{className:"short-spec__item",children:[Object(b.jsx)("div",{className:"short-spec__item--name",children:e[0]}),Object(b.jsx)("div",{className:"short-spec__item--value",children:e[1]})]},e[0])}))})})]})]})}),Object(b.jsx)("div",{className:" product-details__additional-details additional-details",children:Object(b.jsxs)("div",{className:" grid grid--desktop",children:[Object(b.jsxs)("div",{className:" additional-details__about about grid__item--tablet-1-6 grid__item--desktop-1-12",children:[Object(b.jsx)("h2",{className:"additional-details__title",children:"About"}),Object(b.jsx)("div",{className:"about__list","data-cy":"productDescription",children:v.map((function(e){var t=e.text,c=e.title;return Object(b.jsxs)("div",{className:"about__text",children:[Object(b.jsx)("h3",{className:"about__text-name",children:c}),Object(b.jsx)("div",{className:"about__text-description",children:t})]})}))})]}),Object(b.jsxs)("div",{className:" additional-details__tech-specs tech-specs grid__item--tablet-8-12 grid__item--desktop-14-24",children:[Object(b.jsx)("h2",{className:"additional-details__title",children:"Tech specs"}),Object(b.jsx)(Re,{specList:ue})]})]})})]})}),Ae=(c(86),function(){return Object(b.jsxs)("button",{className:" back-button grid__item--desktop-1-24",type:"button","data-cy":"backButton",onClick:function(){return window.history.back()},children:[Object(b.jsx)(h,{type:n.ARROW_LEFT,addClassName:"back-button__arrow"}),"Back"]})}),Ce=function(){var e=g(),t=x((function(e){return e.selectedProduct})),c=t.loaded,n=t.isError,a=Object(o.r)().productId,i=void 0===a?"":a;return Object(l.useEffect)((function(){e(V(i))}),[i]),Object(b.jsx)(b.Fragment,{children:c?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(he,{}),Object(b.jsx)(Ae,{}),n?Object(b.jsx)(be,{error:n}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(ke,{}),Object(b.jsx)(Oe,{type:H.SUGGESTIONS})]})]}):Object(b.jsx)(ue,{})})},Ie=c(96),Te=c(95),Pe=(c(87),function(){var e=x((function(e){return e.favoriteAndCartProducts})).cart,t=Object(l.useState)(!1),c=Object(u.a)(t,2),n=c[0],a=c[1],i=Object(l.useMemo)((function(){return JSON.parse(localStorage.getItem("cart")||"[]").reduce((function(e,t){return e+t.price}),0)}),[e.length]);return Object(b.jsx)("div",{className:" cart__checkout checkout grid__item--tablet-1-12 grid__item--desktop-17-24",children:Object(b.jsxs)("div",{className:"checkout__container",children:[Object(b.jsx)("div",{className:"checkout__total-price",children:"$".concat(i)}),Object(b.jsx)("div",{"data-cy":"productQauntity",className:"checkout__total-items",children:"Total for ".concat(e.length," item").concat(1===e.length?"":"s")}),Object(b.jsx)("button",{className:"checkout__button",type:"button",onClick:function(){var e;clearInterval(e),a(!0),e=setTimeout((function(){a(!1)}),5e3)},children:n?"We are sorry, but this feature is not implemented yet":"Checkout"})]})})}),we=(c(88),function(e){var t=e.product,c=t.name,a=t.id,i=t.image,r=t.price,s=g(),o=x((function(e){return e.favoriteAndCartProducts})).cart,d=v("cart",o),j=Object(u.a)(d,1)[0],_=o.filter((function(e){return e.name===c}))[0],O=function(){var e=0;return o.forEach((function(t){t.id===(null===_||void 0===_?void 0:_.id)&&(e+=1)})),e},m=Object(l.useState)(O()),p=Object(u.a)(m,2),f=p[0],N=p[1];return Object(l.useEffect)((function(){O()}),[o.length]),Object(b.jsxs)("li",{className:"cart__item",children:[Object(b.jsx)("button",{className:"cart__item--delete","data-cy":"cartDeleteButton",type:"button",onClick:function(){var e=o.filter((function(e){return e.id!==a}));s(ie(a)),j(e)},children:Object(b.jsx)(h,{type:n.CROSS_DISABLED})}),Object(b.jsx)("div",{className:"cart__image--container",children:Object(b.jsx)("img",{className:"cart__image",src:i,alt:"Product"})}),Object(b.jsx)("div",{className:"cart__item--name",children:c}),Object(b.jsxs)("div",{className:" cart__buttons buttons",children:[Object(b.jsx)("button",{className:"buttons__button",type:"button",onClick:function(){var e=JSON.parse(localStorage.getItem("cart")||"[]"),t=e.findLastIndex((function(e){return e.id===_.id}));e.splice(t,1),s(ae(_)),j(Object(K.a)(e)),N((function(e){return e-1}))},disabled:1===f,children:Object(b.jsx)(h,{type:1===f?n.MINUS_DISABLED:n.MINUS})}),Object(b.jsx)("div",{className:"cart__amount","data-cy":"productQauntity",children:f}),Object(b.jsx)("button",{className:"buttons__button",type:"button",onClick:function(){s(ne(_)),j([].concat(Object(K.a)(o),[_])),N((function(e){return e+1}))},children:Object(b.jsx)(h,{type:n.PLUS})})]}),Object(b.jsx)("div",{className:"cart__price",children:"$".concat(r*f)})]})});var De=function(){var e=x((function(e){return e.favoriteAndCartProducts})).cart,t=x((function(e){return e.products})),c=t.loaded,n=t.isError,a=Object(l.useState)([]),i=Object(u.a)(a,2),r=i[0],s=i[1];return Object(l.useEffect)((function(){!function(){var t=function(e,t){var c={};return e.filter((function(e){var n=t(e);return!c[n]&&(c[n]=!0,!0)}))}(e,(function(e){return e.id}));s(t)}()}),[e.length]),Object(b.jsx)(b.Fragment,{children:c?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(Ae,{}),n?Object(b.jsx)(be,{error:n}):Object(b.jsx)("div",{className:" grid__item--tablet-1-12 grid__item--desktop-1-24",children:Object(b.jsxs)("section",{className:" page__section cart",children:[Object(b.jsx)("h1",{className:" page__section-title cart__title",children:"Cart"}),r.length?Object(b.jsxs)("div",{className:" cart__container grid grid--desktop",children:[Object(b.jsx)("ul",{className:" cart__list grid__item--tablet-1-12 grid__item--desktop-1-16",children:Object(b.jsx)(Ie.a,{children:r.map((function(e){return Object(b.jsx)(Te.a,{timeout:500,classNames:"item",children:Object(b.jsx)(we,{product:e},e.id)},e.id)}))})}),Object(b.jsx)(Pe,{})]}):Object(b.jsx)("h2",{className:"cart__empty-title",children:"Your cart is empty..."})]})})]}):Object(b.jsx)(ue,{})})},Le=(c(89),function(e){var t=e.error;return Object(b.jsxs)("div",{className:" not-found grid__item--tablet-1-12 grid__item--desktop-1-24",children:[Object(b.jsx)("span",{className:"not-found__image"}),Object(b.jsx)("h1",{className:"not-found__text",children:t})]})}),Me=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(Ae,{}),Object(b.jsx)(Le,{error:F.PAGE_NOT_FOUND})]})},Be=function(){return Object(b.jsx)(r.a,{store:se,children:Object(b.jsx)(s.a,{children:Object(b.jsx)(o.e,{children:Object(b.jsxs)(o.c,{path:"/",element:Object(b.jsx)(X,{}),children:[Object(b.jsx)(o.c,{path:"*",element:Object(b.jsx)(Me,{})}),Object(b.jsx)(o.c,{index:!0,element:Object(b.jsx)(fe,{})}),Object(b.jsx)(o.c,{path:"home",element:Object(b.jsx)(o.a,{to:"/",replace:!0})}),Object(b.jsx)(o.c,{path:"phones",element:Object(b.jsx)(Se,{})}),Object(b.jsx)(o.c,{path:"phones/:productId",element:Object(b.jsx)(Ce,{})}),Object(b.jsx)(o.c,{path:"tablets",element:Object(b.jsx)(Se,{})}),Object(b.jsx)(o.c,{path:"tablets/:productId",element:Object(b.jsx)(Ce,{})}),Object(b.jsx)(o.c,{path:"accessories",element:Object(b.jsx)(Se,{})}),Object(b.jsx)(o.c,{path:"accessories/:productId",element:Object(b.jsx)(Ce,{})}),Object(b.jsx)(o.c,{path:"favorites",element:Object(b.jsx)(Se,{})}),Object(b.jsx)(o.c,{path:"cart",element:Object(b.jsx)(De,{})})]})})})})};i.a.render(Object(b.jsx)(Be,{}),document.getElementById("root"))}]),[[90,1,2]]]);
//# sourceMappingURL=main.d54e2f9a.chunk.js.map